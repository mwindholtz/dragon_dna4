class Monster < Target
  
  named_scope :by_level, :order => "level"  
  def monster?; true; end  

  def klass_option_label
    self.race_align
  end

  def saving_throws_matrix
    Fighter.new.saving_throws_matrix
  end

  def clone_monster
    attrs = self.attributes
    attrs[:name] = self.name.succ
    attr_hp = 0 
    self.level.times{ attr_hp += Die.roll(8) }
    attrs[:max_hp] = attrs[:hp] = attr_hp 
    Monster.new(attrs)
  end
   
  def attack_matrix
    h = Hash.new
    h[-10] = [26, 24, 21, 21, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 19, 19, 18, 18, 17, 17]
    h[-9] = [25, 23, 20, 20, 20, 20, 20, 20, 20, 20, 19, 19, 18, 18, 17, 17, 16]      
    h[-8] = [24, 22, 20, 20, 20, 20, 20, 20, 20, 20, 18, 18, 17, 17, 16 ,16, 15]      
    h[-7] = [23, 21, 20, 20, 20, 20, 20, 20, 19, 19, 17, 17, 16, 16, 15, 15, 14]
    h[-6] = [22, 20, 20, 20, 20, 20, 19, 19, 18, 18, 16, 16, 15, 15, 14, 14, 13]
    h[-5] = [21, 20, 20, 20, 20, 20, 18, 18, 17, 17, 15, 15, 14, 14, 13, 13, 12]
    h[-4] = [20, 20, 20, 20, 19, 19, 17, 17, 16, 16, 14, 14, 13, 13, 12, 12, 11]
    h[-3] = [20, 20, 19, 19, 18, 18, 16, 16, 15, 15, 13, 13, 12, 12, 11, 11, 10]
    h[-2] = [20, 20, 18, 18, 17, 17, 15, 15, 14, 14, 12, 12, 11, 11, 10, 10,  9]
    h[-1] = [20, 20, 17, 17, 16, 16, 14, 14, 13, 13, 11, 11, 10, 10,  9,  9,  8]
    h[0]  = [20, 19, 16, 16, 15, 15, 13, 13, 12, 12, 10, 10,  9,  9,  8,  8,  7]
    h[1]  = [20, 18, 15, 15, 14, 14, 12, 12, 11, 11,  9,  9,  8,  8,  7,  7,  6]
    h[2]  = [19, 17, 14, 14, 13, 13, 11, 11, 10, 10,  8,  8,  7,  7,  6,  6,  5]
    h[3]  = [18, 16, 13, 13, 12, 12, 10, 10,  9,  9,  7,  7,  6,  6,  5,  5,  4]
    h[4]  = [17, 15, 12, 12, 11, 11,  9,  9,  8,  8,  6,  6,  5,  5,  4,  4,  3]
    h[5]  = [16, 14, 11, 11, 10, 10,  8,  8,  7,  7,  5,  5,  4,  4,  3,  3,  2]
    h[6]  = [15, 13, 10, 10,  9,  9,  7,  7,  6,  6,  4,  4,  3,  3,  2,  2,  1]
    h[7]  = [14, 12,  9,  9,  8,  8,  6,  6,  5,  5,  3,  3,  2,  2,  1,  1,  0]
    h[8]  = [13, 11,  8,  8,  7,  7,  5,  5,  4,  4,  2,  2,  1,  1,  0,  0, -1]
    h[9]  = [12, 10,  7,  7,  6,  6,  4,  4,  3,  3,  1,  1,  0,  0, -1, -1, -2]
    h[10] = [11,  9,  6,  6,  5,  5,  3,  3,  2,  2,  0,  0, -1, -1, -2, -2, -3]
    h
  end
  
end
